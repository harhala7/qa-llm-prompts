openapi: 3.0.3
info:
  title: Orders API
  version: 1.0.0
paths:
  /orders:
    post:
      summary: Create an order
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [items, currency]
              properties:
                items:
                  type: array
                  minItems: 1
                  items:
                    type: object
                    required: [sku, quantity]
                    properties:
                      sku:
                        type: string
                        minLength: 1
                      quantity:
                        type: integer
                        minimum: 1
                currency:
                  type: string
                  enum: [GBP, EUR]
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                type: object
                required: [id, status, total]
                properties:
                  id:
                    type: string
                  status:
                    type: string
                    enum: [CREATED]
                  total:
                    type: number
                    minimum: 0
        "400":
          description: Bad Request
        "401":
          description: Unauthorized
  /orders/{id}:
    get:
      summary: Get order by id
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
            minLength: 1
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                required: [id, status, total]
                properties:
                  id:
                    type: string
                  status:
                    type: string
                    enum: [CREATED, CANCELLED]
                  total:
                    type: number
                    minimum: 0
        "404":
          description: Not Found
